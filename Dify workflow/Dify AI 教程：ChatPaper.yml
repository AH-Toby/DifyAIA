app:
  description: 分析论文内容，以XML格式提取关键信息，为研究人员提供结构化、易理解的论文摘要。并可进行论文内容的交互式学习。
  icon: 🤖
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: Dify AI 教程：ChatPaper
  use_icon_as_answer_icon: false
kind: app
version: 0.1.2
workflow:
  conversation_variables:
  - description: 交互语言
    id: d136360a-2fc1-4265-97ef-0d95cd9350a4
    name: language
    value: ''
    value_type: string
  - description: 原始论文。
    id: 6103aafb-1ba3-4990-9bd3-57d51433f950
    name: paper
    value: []
    value_type: array[string]
  - description: 对话阶段。
    id: a4e029a1-73ed-402e-a180-c607f779fbd3
    name: chat_stage
    value: ''
    value_type: string
  - description: 第二轮交互，将用户输入转换为prompt的内容。
    id: 11340519-49cf-40b2-b088-09909ec740a0
    name: chat2_user
    value: ''
    value_type: string
  - description: 通过LLM大模型交互后的回答内容。
    id: 88ff36c6-ed2d-4233-b2dd-e3ad819bba3c
    name: chat2_assistance
    value: ''
    value_type: string
  - description: 存储精读结果（学术快照+方法透视+学术棱镜）
    id: 14f0acef-3038-44dc-8555-36b6d67278dd
    name: paper_insight
    value: []
    value_type: array[string]
  environment_variables:
  - description: ''
    id: aa8e9eb8-869e-4694-ac8f-5b1dca5dadad
    name: chat2
    value: ready
    value_type: string
  - description: ''
    id: effc8e0c-78c9-4fe0-82f9-0f1a7b6168f6
    name: chatX
    value: chatX
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: 请上传论文，并选择或输入您的语言以开始：
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
    - English
    - 中文
    suggested_questions_after_answer:
      enabled: true
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: if-else
      id: 1730630185966-source-1730630264417-target
      selected: false
      source: '1730630185966'
      sourceHandle: source
      target: '1730630264417'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: assigner
      id: 1730630264417-true-1730631007055-target
      selected: false
      source: '1730630264417'
      sourceHandle: 'true'
      target: '1730631007055'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: document-extractor
      id: 1730631007055-source-1730631054534-target
      selected: false
      source: '1730631007055'
      sourceHandle: source
      target: '1730631054534'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: document-extractor
        targetType: variable-aggregator
      id: 1730631054534-source-1730631118491-target
      selected: false
      source: '1730631054534'
      sourceHandle: source
      target: '1730631118491'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: variable-aggregator
        targetType: llm
      id: 1730631118491-source-1730631148281-target
      selected: false
      source: '1730631118491'
      sourceHandle: source
      target: '1730631148281'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1730631148281-source-answer-target
      selected: false
      source: '1730631148281'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: variable-aggregator
        targetType: llm
      id: 1730631118491-source-1730633091910-target
      selected: false
      source: '1730631118491'
      sourceHandle: source
      target: '1730633091910'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: template-transform
      id: answer-source-1730633263379-target
      selected: false
      source: answer
      sourceHandle: source
      target: '1730633263379'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: template-transform
      id: 1730633091910-source-1730633263379-target
      selected: false
      source: '1730633091910'
      sourceHandle: source
      target: '1730633263379'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: llm
      id: 1730633263379-source-1730633330276-target
      selected: false
      source: '1730633263379'
      sourceHandle: source
      target: '1730633330276'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1730633330276-source-1730634400456-target
      selected: false
      source: '1730633330276'
      sourceHandle: source
      target: '1730634400456'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: llm
      id: 1730633263379-source-1730634477242-target
      selected: false
      source: '1730633263379'
      sourceHandle: source
      target: '1730634477242'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: template-transform
      id: 1730634400456-source-1730634629774-target
      selected: false
      source: '1730634400456'
      sourceHandle: source
      target: '1730634629774'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: template-transform
      id: 1730634477242-source-1730634629774-target
      selected: false
      source: '1730634477242'
      sourceHandle: source
      target: '1730634629774'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: llm
      id: 1730634629774-source-1730635296561-target
      selected: false
      source: '1730634629774'
      sourceHandle: source
      target: '1730635296561'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: llm
      id: 1730634629774-source-1730635431930-target
      selected: false
      source: '1730634629774'
      sourceHandle: source
      target: '1730635431930'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1730635431930-source-17306333553220-target
      selected: false
      source: '1730635431930'
      sourceHandle: source
      target: '17306333553220'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1730635296561-source-1730635609787-target
      selected: false
      source: '1730635296561'
      sourceHandle: source
      target: '1730635609787'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: llm
      id: 17306333553220-source-1730635609787-target
      selected: false
      source: '17306333553220'
      sourceHandle: source
      target: '1730635609787'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1730635609787-source-1730635733731-target
      selected: false
      source: '1730635609787'
      sourceHandle: source
      target: '1730635733731'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: template-transform
      id: 1730635733731-source-1730635765829-target
      selected: false
      source: '1730635733731'
      sourceHandle: source
      target: '1730635765829'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: assigner
      id: 1730635765829-source-1730635836889-target
      selected: false
      source: '1730635765829'
      sourceHandle: source
      target: '1730635836889'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: assigner
      id: 1730635836889-source-1730635907524-target
      selected: false
      source: '1730635836889'
      sourceHandle: source
      target: '1730635907524'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: assigner
      id: 1730635907524-source-1730635931505-target
      selected: false
      source: '1730635907524'
      sourceHandle: source
      target: '1730635931505'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: list-operator
      id: 1730630264417-b49c4e83-1194-482b-961b-7ccea3017467-1730638765410-target
      selected: false
      source: '1730630264417'
      sourceHandle: b49c4e83-1194-482b-961b-7ccea3017467
      target: '1730638765410'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: list-operator
        targetType: template-transform
      id: 1730638765410-source-1730638802430-target
      selected: false
      source: '1730638765410'
      sourceHandle: source
      target: '1730638802430'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: llm
      id: 1730638802430-source-1730638958510-target
      selected: false
      source: '1730638802430'
      sourceHandle: source
      target: '1730638958510'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1730638958510-source-1730639017500-target
      selected: false
      source: '1730638958510'
      sourceHandle: source
      target: '1730639017500'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: assigner
      id: 1730639017500-source-1730639078686-target
      selected: false
      source: '1730639017500'
      sourceHandle: source
      target: '1730639078686'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: assigner
      id: 1730639078686-source-1730639119951-target
      selected: false
      source: '1730639078686'
      sourceHandle: source
      target: '1730639119951'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: assigner
        targetType: assigner
      id: 1730639119951-source-1730639155773-target
      selected: false
      source: '1730639119951'
      sourceHandle: source
      target: '1730639155773'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1730630264417-c3b58fe8-708a-4d8c-86e0-cb3ecf5d15b0-1730644512269-target
      source: '1730630264417'
      sourceHandle: c3b58fe8-708a-4d8c-86e0-cb3ecf5d15b0
      target: '1730644512269'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1730644512269-source-1730644562416-target
      source: '1730644512269'
      sourceHandle: source
      target: '1730644562416'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: 开始
        type: start
        variables:
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: Upload a paper
          max_length: 48
          options: []
          required: true
          type: file
          variable: paper1
      height: 109
      id: '1730630185966'
      position:
        x: -45.008773991703606
        y: 338.4232357667801
      positionAbsolute:
        x: -45.008773991703606
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#1730631148281.text#}}

          ---


          **以上是从文档提取器中快速总结的内容。**


          如有任何问题，请随时按停止按钮。


          AI正在阅读论文。


          ---'
        desc: ''
        selected: false
        title: 直接回复 预览
        type: answer
        variables: []
      height: 198
      id: answer
      position:
        x: 1822.6318158166175
        y: 338.4232357667801
      positionAbsolute:
        x: 1822.6318158166175
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: '='
            id: 086a76cf-42a4-4794-abf8-78a724bb31b0
            value: '1'
            varType: number
            variable_selector:
            - sys
            - dialogue_count
          id: 'true'
          logical_operator: and
        - case_id: b49c4e83-1194-482b-961b-7ccea3017467
          conditions:
          - comparison_operator: is
            id: c0cd9002-4299-49cc-b12e-be11ba8d28ba
            value: '{{#env.chat2#}}'
            varType: string
            variable_selector:
            - conversation
            - chat_stage
          id: b49c4e83-1194-482b-961b-7ccea3017467
          logical_operator: and
        - case_id: c3b58fe8-708a-4d8c-86e0-cb3ecf5d15b0
          conditions:
          - comparison_operator: is
            id: e6d05e74-2a4e-48bd-9e97-cd85de7e20c9
            value: '{{#env.chatX#}}'
            varType: string
            variable_selector:
            - conversation
            - chat_stage
          id: c3b58fe8-708a-4d8c-86e0-cb3ecf5d15b0
          logical_operator: and
        desc: ''
        selected: false
        title: 条件分支
        type: if-else
      height: 274
      id: '1730630264417'
      position:
        x: 231.21369324803118
        y: 338.4232357667801
      positionAbsolute:
        x: 231.21369324803118
        y: 338.4232357667801
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        assigned_variable_selector:
        - conversation
        - language
        desc: ''
        input_variable_selector:
        - sys
        - query
        selected: false
        title: 设置语言
        type: assigner
        write_mode: over-write
      height: 153
      id: '1730631007055'
      position:
        x: 534.2136932480312
        y: 338.4232357667801
      positionAbsolute:
        x: 534.2136932480312
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        is_array_file: false
        selected: false
        title: 论文提取
        type: document-extractor
        variable_selector:
        - '1730630185966'
        - paper1
      height: 111
      id: '1730631054534'
      position:
        x: 837.2136932480312
        y: 338.4232357667801
      positionAbsolute:
        x: 837.2136932480312
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        output_type: string
        selected: false
        title: 原始论文
        type: variable-aggregator
        variables:
        - - '1730631054534'
          - text
      height: 137
      id: '1730631118491'
      position:
        x: 1139.128631021747
        y: 338.4232357667801
      positionAbsolute:
        x: 1139.128631021747
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen2.5:latest
          provider: ollama
        prompt_template:
        - id: 98b7a75a-01e6-4ee6-8ea3-3c2e9e12259f
          role: system
          text: '<instructions>

            请用指定的语言要求（{{#conversation.language#}}）将给定论文在200字以内进行总结，请遵循以下步骤：

            1.       仔细阅读整篇论文，理解其主要思想、方法、结果和结论。

            2.       从每个主要部分（引言、方法、结果、讨论）中识别出关键点和最重要的信息。

            3.       将核心要素提炼成简洁的摘要，目标字数约为200字。

            4.       确保摘要涵盖：

            –   主要研究问题或目标

            –   方法论的简要概述

            –   关键发现和结果

            –   主要结论和启示

            5.       使用清晰简洁的语言，避免不必要的行话或技术术语，除非必不可少。

            6.       遵循提供的特定语言要求（如正式/非正式语气、技术水平、目标受众）。

            7.       撰写完摘要后，检查字数并根据需要调整，以达到接近200字。

            8.       审阅摘要，确保其准确代表论文内容，无偏见或误解。

            9.       校对语法、拼写和清晰度。

            10.     除非另有说明，否则将摘要格式化为一个段落。

            请记住根据任何特定要求调整语言和风格。目标是提供一篇读者可以快速理解的清晰、准确且简洁的论文概述。输出中不要包含任何XML标签。仅提供纯文本摘要。

            </instructions>

             

            <examples>

            示例1：

            输入：

            论文：“气候变化对热带雨林生物多样性的影响”

            语言要求：技术性强，适合环境科学家

             

            输出：

            本研究调查了气候变化对热带雨林生物多样性的影响。研究人员对南美洲、非洲和东南亚的50项长期研究进行了荟萃分析。结果表明，在过去的30年里，物种丰富度显著下降，这与气温上升和降水模式改变有关。值得注意的是，特有物种和栖息地范围狭窄的物种表现出最高的脆弱性。该论文强调，受监测物种的种群规模平均减少了15%，其中两栖动物和爬行动物受影响最大。雨棚住宅'
        - id: c378f1ac-eb2f-4a13-9598-644d73ac424b
          role: user
          text: '<paper_content>

            {{#1730631118491.output#}}

            </paper_content>'
        selected: false
        title: 简练总结
        type: llm
        variables: []
        vision:
          enabled: false
      height: 119
      id: '1730631148281'
      position:
        x: 1443.2136932480312
        y: 338.4232357667801
      positionAbsolute:
        x: 1443.2136932480312
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: 论文精要概览
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen2.5:latest
          provider: ollama
        prompt_template:
        - id: bce89842-6055-4cb9-bb5b-d1db83f0a8bc
          role: system
          text: 你是一位高效的研究助理，擅长将学术论文进行总结提炼。你的职责是从提供的论文中抽取关键信息，并以结构清晰、易于理解的格式整理出来，以便忙碌的研究人员能够快速获取核心内容。
        - id: 1d053ea8-2f46-4be3-8cd8-1043c959df8f
          role: user
          text: '分析以下论文内容，并根据以下指示进行总结：

            <paper_content>

            {{#1730631118491.output#}}

            </paper_content>

             

             

            提取并以XML格式呈现以下关键信息：

            <paper_summary>

            <title> <original>[原文标题]</original> <translation>[如适用，英文翻译]</translation>
            </title>

            <authors>[作者列表]</authors>

            <first_author_affiliation>[第一作者所属机构]</first_author_affiliation>

            <keywords>[关键词列表]</keywords>

            <urls> <paper>[论文URL]</paper> <github>[GitHub URL，如未提供则填写"Not available"]</github>
            </urls> <summary> <background>[研究背景及意义]</background> <objective>[主要研究问题或目标]</objective>
            <methodology>[提出的研究方法]</methodology> <findings>[关键发现及其意义]</findings> <impact>[研究的潜在影响]</impact>
            </summary>

            <key_figures>

            <figure1>[如适用，关键图表或表格的简要说明]</figure1>

            <figure2>[如适用，另一关键图表或表格的简要说明]</figure2>

            </key_figures>

            </paper_summary>

             

            指导方针：

            1.        在整个总结中使用简洁的学术语言。

            2.        在适当的XML标签中包含所有相关信息。

            3.        避免在不同部分重复信息。

            4.        保持原始数值和单位。

            5.        首次使用时，简要解释括号中的技术术语。

             

            输出语言：

            用以下语言生成摘要：

            <output_language>

            {{#conversation.language#}}

            </output_language>

             

            翻译说明：

            -如果输出语言不是英语，请翻译除以下内容外的所有部分：

            a） 原始论文标题

            b） 作者姓名

            c） 技术术语（括号内提供翻译）

            d） URL

            -保持翻译的学术基调和技术准确性。

             

            字符限制：

            将整个摘要控制在800字或5000个字符以内，以先到者为准。'
        selected: false
        title: 学术快照
        type: llm
        variables: []
        vision:
          enabled: false
      height: 150
      id: '1730633091910'
      position:
        x: 1443.2136932480312
        y: 500.18422228604567
      positionAbsolute:
        x: 1443.2136932480312
        y: 500.18422228604567
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: await
        selected: false
        template: Made by Dify
        title: 模板转换
        type: template-transform
        variables: []
      height: 95
      id: '1730633263379'
      position:
        x: 2125.6318158166177
        y: 338.4232357667801
      positionAbsolute:
        x: 2125.6318158166177
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: 转换为人类阅读友好的格式(Markdown)
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen2.5:latest
          provider: ollama
        prompt_template:
        - id: 0b061245-04c8-4c85-a26f-e4f8a226671e
          role: system
          text: 您是一位内容格式化专家，擅长将结构化的XML内容转换为便于读者阅读的Markdown格式。您的任务是在不改变原始内容或语言的前提下，提高内容的可读性。
        - id: 35495101-bdf2-4d6c-89d8-6e108d51baaa
          role: user
          text: '将以下XML格式的方法论分析转换为结构良好的Markdown格式：

             

             

            <xml_content>

            {{#1730633091910.text#}}

            </xml_content>

             

             

            指导方针：

            保持获取到的原始语言不变，即使它们是混合语言，主要应为{{#conversation.language#}}。

            不要更改任何内容；您的任务纯粹是格式化。

            使用Markdown元素来提高可读性：

            使用适当的标题级别（##, ###, ####）

            在适当的地方使用项目符号列表或编号列表

            使用粗体或斜体文本进行强调（但不要过度使用）

            对重要陈述或发现使用块引用

            确保Markdown中反映了原始XML的层次结构和结构。

            格式应清晰、一致且易于阅读。

             

            示例结构（根据实际内容进行调整）：

            ## 方法论分析 

             

            ### 概述 

            [内容在此处] 

             

            ### 关键组件 

             

            #### [组件1名称] 

            - **描述**：[内容] 

            - **创新**：[内容] 

            - **优势**：[内容] 

            - **局限性**：[内容] 

             

            [为其他组件重复上述格式] 

             

            ### 与目标的契合度 

            [内容在此处] 

             

            ### 可复制性 

            [内容在此处] 

             

            ### 总体评估 

            [内容在此处]

             

            您的目标是创建一个Markdown文档，使其比XML格式更易于阅读，同时保留所有原始信息和结构。'
        selected: false
        title: MD友好输出
        type: llm
        variables: []
        vision:
          enabled: false
      height: 166
      id: '1730633330276'
      position:
        x: 2449.3158909406266
        y: 338.4232357667801
      positionAbsolute:
        x: 2449.3158909406266
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#1730635431930.text#}}'
        desc: 输出-2
        selected: false
        title: 直接回复 方法论
        type: answer
        variables: []
      height: 149
      id: '17306333553220'
      position:
        x: 3838.175651162645
        y: 525.8284823702766
      positionAbsolute:
        x: 3838.175651162645
        y: 525.8284823702766
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#1730633330276.text#}}'
        desc: 输出-1
        selected: false
        title: 直接回复 精要概览
        type: answer
        variables: []
      height: 149
      id: '1730634400456'
      position:
        x: 2792.447488286956
        y: 338.4232357667801
      positionAbsolute:
        x: 2792.447488286956
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: 研究路径剖析 方法论解析
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen2.5:latest
          provider: ollama
        prompt_template:
        - id: 6c023c1f-e56d-4e60-b28a-450183255bbe
          role: system
          text: 您是一位专业的研究方法论专家，擅长分析和总结学术论文中的研究方法。您的任务是针对某一特定论文中所使用的研究方法，提供一个清晰、简洁而又全面的分析，着重强调其创新之处、优势以及潜在的局限性。您的分析将帮助其他研究人员理解、评估、潜在复制或改进这些方法。
        - id: e0c6b75b-0031-45c6-b801-64fd277b570a
          role: user
          text: '分析以下论文的方法论，并根据以下指示提供一个结构化的摘要：

             

            您将使用两个主要输入：

             

             

            <paper_content>

            {{#conversation.paper#}}

            </paper_content>

             

             

            这包含学术论文的全文。请以此作为主要来源获取详细的方法论信息。

             

             

            <paper_summary>

            {{#1730633091910.text#}}

            </paper_summary>

             

             

            这是论文的结构化摘要，为您的分析提供了背景信息。请参考此摘要以了解论文的关键要点，但请将分析重点放在全文内容上。

             

            方法论分析指南：

            仔细阅读全文内容中的方法论部分。

            识别并分析方法论的关键组成部分，可能包括：

            研究设计（例如，实验性、观察性、混合方法）

            数据收集方法

            抽样技术

            分析方法

            使用的工具或仪器

            统计方法（如适用）

            针对每个关键组成部分，评估：

            创新性：该方法是否新颖或是对现有方法的独特应用？

            优势：该方法论方法的优势是什么？

            局限性：该方法可能存在哪些弱点或限制？

            4.    考虑方法论与论文摘要中所述研究目标的契合度。

            5.    评估所描述方法的清晰度和可复制性。

             

            以以下XML格式呈现您的分析：

             

            <methodology_analysis>

            <overview>

            [用2-3句话简要概述整体方法论方法]

            </overview>

            <key_components>

            <component1>

            <name>[方法论组成部分的名称]</name>

            <description>[描述方法论组成部分]</description>

            <innovation>[讨论任何创新方面]</innovation>

            <strengths>[列出主要优势]</strengths>

            <limitations>[提及潜在局限性]</limitations>

            </component1>

            <component2>

            [为每个识别出的关键组成部分重复此结构]

            </component2>

            [根据需要添加更多组件标签]

            </key_components>

            <alignment_with_objectives>

            [讨论方法论与研究目标所述内容的契合度]

            </alignment_with_objectives>

            <replicability> [对其他研究人员复制方法的清晰度和可能性发表评论] </replicability>

            <overall_assessment>

            [简要总体评估方法论的优势和局限性]

            </overall_assessment>

            </methodology_analysis>

            输出语言：用以下语言生成分析：

            <output_language>

            {{#conversation.language#}}

            </output_language>

             

             

            翻译指示：

            如果输出语言不是英语，请翻译所有部分，但保留：

            a) 技术术语（首次使用时在括号中提供翻译）

            b) 专有名词（例如，特定工具或方法的名称）

            在翻译中保持学术语气和技术准确性。

            指南和提醒：

            在整个分析中使用清晰、简洁的学术语言。

            在评估中保持客观，用论文中的证据支持您的观点。

            避免在分析的不同部分中重复。

            如果在方法论描述中遇到任何歧义或缺乏细节，请在分析中注明。

            在必要时提供简短的解释或示例以增强理解。

            如果某些方法论细节不清晰或缺失，请在摘要中注明。

            保持原始术语，如有必要，简要解释技术术语。

            字符限制：尽量使您的整个分析保持在600个单词或4000个字符以内，以先到者为准。

            您的分析应为研究人员提供有价值的见解，以便他们了解、评估或建立在论文中描述的方法论方法之上。'
        selected: false
        title: 方法透视
        type: llm
        variables: []
        vision:
          enabled: false
      height: 150
      id: '1730634477242'
      position:
        x: 2441.3376337987033
        y: 547.4123643377417
      positionAbsolute:
        x: 2441.3376337987033
        y: 547.4123643377417
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        selected: false
        template: made by dify
        title: 模板转换 2
        type: template-transform
        variables: []
      height: 64
      id: '1730634629774'
      position:
        x: 3093.852734890452
        y: 338.4232357667801
      positionAbsolute:
        x: 3093.852734890452
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: 多方面论文评估
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen2.5:latest
          provider: ollama
        prompt_template:
        - role: system
          text: 您是一位经验丰富的学术研究者，负责全面批判性地分析已发表的科研论文。您的职责是帮助读者理解并解读论文的贡献、研究方法及其在该领域的潜在影响。
        - role: user
          text: '使用以下输入和指令进行分析：

             

             

            <paper_summary>

            {{#1730633091910.text#}}

            </paper_summary>

             

             

            <methodology_analysis>

            {{#1730634477242.text#}}

            </methodology_analysis>

             

             

            仔细审阅论文摘要和方法论分析。然后，根据以下标准对论文进行评价：

            研究背景与目标：

            评估论文在现有文献中的定位情况

            评价研究目标的清晰度和重要性

            方法论途径：

            分析方法论的恰当性和执行情况

            考虑方法论分析中提到的优点和局限性

            关键发现与解读：

            检查主要结果及其解读

            评价发现成果对研究目标的满足程度

            创新与贡献：

            识别任何新颖的方法或对领域的独特贡献

            评估对领域和相关领域的潜在影响

            局限性与未来方向：

            分析作者如何处理研究的局限性

            考虑未来研究的潜在领域

            实践意义：

            评价研究的任何实际应用或政策意义

             

             

            将您的分析综合成以下XML格式的全面综述：

            <paper_analysis>

            <overview>

            [用2-3句话简要概述论文，突出其主要焦点和贡献]

            </overview>

            <key_strengths>

            <strength1>[描述论文的一个关键优势]</strength1>

            <strength2>[描述另一个关键优势]</strength2>

            [如有必要，添加更多优势标签]

            </key_strengths>

            <potential_limitations>

            <limitation1>[描述一个潜在限制或改进领域]</limitation1>

            <limitation2>[描述另一个潜在限制]</limitation2>

            [如有必要，添加更多限制标签]

            </potential_limitations>

            <detailed_analysis>

            <research_context>

            [讨论论文如何在更广泛的研究背景下定位，以及目标的清晰度]

            </research_context>

             

             

            <methodology_evaluation> 

              [评估方法论，参考提供的分析，并考虑其对于研究问题的恰当性] 

            </methodology_evaluation> 

             

            <findings_interpretation> 

              [分析关键发现及其解读，考虑它们与研究目标的关联性] 

            </findings_interpretation> 

             

            <innovation_and_impact> 

              [讨论论文的创新方面和对领域的潜在影响] 

            </innovation_and_impact> 

             

            <practical_implications> 

              [评价研究的任何实际应用或政策意义] 

            </practical_implications>

             

             

            </detailed_analysis>

            <future_directions>

            [提出未来研究的潜在领域或如何扩展这项工作]

            </future_directions>

            <reader_recommendations>

            [为读者提供关于如何解释或应用论文发现，或论文可能对哪些受众最相关的建议]

            </reader_recommendations>

            </paper_analysis>

            输出语言：以下语言生成分析：

            <output_language>

            {{#conversation.language#}}

            </output_language>

             

             

            翻译指令：

            如果输出语言不是英语，请翻译所有部分，但以下除外：

            a) 技术术语（首次使用时提供括号内的翻译）

            b) 专有名词（例如，特定理论、方法或作者的名字）

            保持学术语调和技术准确性在翻译中。

            指南和提醒：

            在整个综述中保持客观和分析性的语调。

            用论文摘要和方法论分析中的具体例子或证据支持您的评价。

            同时考虑研究的优势和潜在局限性。

            讨论论文对整个领域的贡献，而不仅仅是其个别组成部分。

            为读者提供关于如何解释或应用发现的具体建议。

            在整个分析中使用清晰、简洁的学术语言。

            记住论文已经发表，因此重点是帮助读者理解其价值和局限性，而不是建议修改。

            字符限制：尽量将您的整个分析保持在800字或5000个字符以内，以先到者为准。

            您的分析应提供全面、平衡且富有洞察力的评价，帮助读者理解论文的质量、贡献和潜在领域影响。'
        selected: false
        title: 学术棱镜：多维论文评估
        type: llm
        variables: []
        vision:
          enabled: false
      height: 150
      id: '1730635296561'
      position:
        x: 3400.0422416834595
        y: 338.4232357667801
      positionAbsolute:
        x: 3400.0422416834595
        y: 338.4232357667801
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: 转换为人类阅读友好的格式(Markdown)
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen2.5:latest
          provider: ollama
        prompt_template:
        - role: system
          text: 您是一名内容格式化器，专门将结构化XML内容转换为读者友好的Markdown格式。你的任务是在不改变原始内容或语言的情况下提高可读性。
        - role: user
          text: '以下XML格式的方法论分析转换为结构良好的Markdown格式：

             

             

            <xml_content>

            {{#1730634477242.text#}}

            </xml_content>

             

             

            指南：

            保持你获取到的原文语言不变，即使它们是混合语言，主要应为{{#conversation.language#}}。

            不要更改任何内容；你的任务纯粹是格式化。

            使用Markdown元素来提高可读性：

            使用适当的标题级别（##, ###, ####）

            在适当的地方使用项目符号列表或编号列表

            使用加粗或斜体文本进行强调（但不要过度使用）

            对重要陈述或发现使用块引用

            确保Markdown反映了原始XML的层次结构和结构。

            格式应清晰、一致且易于阅读。

             

            示例结构（根据实际内容进行调整）：

            ## 方法论分析 

             

            ### 概述 

            [内容在这里] 

             

            ### 关键组件 

             

            #### [组件1名称] 

            - **描述**： [内容] 

            - **创新**： [内容] 

            - **优势**： [内容] 

            - **局限性**： [内容] 

             

            [为其他组件重复上述格式] 

             

            ### 与目标的对齐 

            [内容在这里] 

             

            ### 可复制性 

            [内容在这里] 

             

            ### 总体评估 

            [内容在这里]

             

             

            你的目标是创建一个比XML格式更易于阅读的Markdown文档，同时保留所有原始信息和结构。'
        selected: false
        title: MD友好输出-2
        type: llm
        variables: []
        vision:
          enabled: false
      height: 166
      id: '1730635431930'
      position:
        x: 3400.0422416834595
        y: 525.8284823702766
      positionAbsolute:
        x: 3400.0422416834595
        y: 525.8284823702766
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: '(await)

          转换为人类阅读友好的格式(Markdown),

          并抛出几个简单衔接问题.'
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen2.5:latest
          provider: ollama
        prompt_template:
        - role: system
          text: 您是一名内容专家，负责将结构化XML内容转换为读者友好的Markdown格式，并生成引人入胜的后续问题。你的目标是提高可读性，鼓励在不改变原始内容或分析的情况下进一步探索论文的主题。
        - role: user
          text: ' 

            1.     XML转Markdown转换：将以下XML格式的论文分析转换为结构良好的Markdown格式：

             

             

            <xml_content>

            {{#1730635296561.text#}}

            </xml_content>

             

             

            转换指南：

            a) 保持内容的原始语言。主要语言应为：

             


            <output_language>

            {{#conversation.language#}}

            </output_language>

             


            b) 不要更改任何内容；你的任务纯粹是格式化和结构化。

            c) 使用Markdown元素来提高可读性：

            o   使用适当的标题级别（##, ###, ####）

            o   在适当的地方使用项目符号列表或编号列表

            o   使用加粗或斜体文本进行强调（但不要过度使用）

            o   对重要陈述或发现使用块引用

            d) 确保Markdown反映了原始XML的层次结构和结构。

            e) 格式应清晰、一致且易于阅读。

            2.     后续问题生成：在将内容转换为Markdown后，生成3-5个开放式的后续问题，以鼓励读者对论文及其含义进行批判性思考。这些问题应：

            o   涉及论文的不同方面（例如，方法论、发现、含义）

            o   鼓励读者将论文内容与该领域的更广泛问题联系起来

            o   提示读者考虑实际应用或未来研究方向

            o   引发思考并适合发起讨论

            3.     最终输出结构：以以下格式呈现你的输出：

             

            # 论文分析 

             

            [在此处插入你转换后的Markdown内容] 

             

            --- 

             

            ## 深入探索 

             

            考虑以下问题以加深你对论文及其含义的理解： 

             

            1. [第一个后续问题] 

            2. [第二个后续问题] 

            3. [第三个后续问题] 

            [如果生成了更多问题，请添加] 

             

            我们鼓励你反思这些问题并与同事讨论，以获得对研究和其在该领域潜在影响的新见解。

             

            记住，你的目标是创建一个（Markdown）文档，该文档比XML格式更易读，同时保留所有原始信息和结构，并提供引人深思的问题，以鼓励读者进一步参与论文内容。'
        selected: false
        title: MD友好输出-3
        type: llm
        variables: []
        vision:
          enabled: false
      height: 198
      id: '1730635609787'
      position:
        x: 4238.879382908686
        y: 332.04422218076553
      positionAbsolute:
        x: 4238.879382908686
        y: 332.04422218076553
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#1730635609787.text#}}'
        desc: 输出-3
        selected: false
        title: 直接回复 总结
        type: answer
        variables: []
      height: 149
      id: '1730635733731'
      position:
        x: 4543.47413630519
        y: 332.04422218076553
      positionAbsolute:
        x: 4543.47413630519
        y: 332.04422218076553
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        selected: false
        template: '<paper_summary>

          {{ text }}

          </paper_summary>


          <methodology_analysis>

          {{ text_1 }}

          </methodology_analysis>


          <paper_evaluation>

          {{ text_2 }}

          </paper_evaluation>'
        title: 精读结果汇总
        type: template-transform
        variables:
        - value_selector:
          - '1730633091910'
          - text
          variable: text
        - value_selector:
          - '1730634477242'
          - text
          variable: text_1
        - value_selector:
          - '1730635296561'
          - text
          variable: text_2
      height: 64
      id: '1730635765829'
      position:
        x: 4846.47413630519
        y: 332.04422218076553
      positionAbsolute:
        x: 4846.47413630519
        y: 332.04422218076553
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        assigned_variable_selector:
        - conversation
        - paper_insight
        desc: ''
        input_variable_selector:
        - '1730635765829'
        - output
        selected: false
        title: 存储精读结果
        type: assigner
        write_mode: append
      height: 153
      id: '1730635836889'
      position:
        x: 5149.47413630519
        y: 332.04422218076553
      positionAbsolute:
        x: 5149.47413630519
        y: 332.04422218076553
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        assigned_variable_selector:
        - conversation
        - chat_stage
        desc: ''
        input_variable_selector:
        - env
        - chat2
        selected: false
        title: 更新对话阶段
        type: assigner
        write_mode: over-write
      height: 153
      id: '1730635907524'
      position:
        x: 5452.47413630519
        y: 332.04422218076553
      positionAbsolute:
        x: 5452.47413630519
        y: 332.04422218076553
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        assigned_variable_selector:
        - conversation
        - paper
        desc: ''
        input_variable_selector:
        - '1730631118491'
        - output
        selected: false
        title: 存储原始论文
        type: assigner
        write_mode: append
      height: 153
      id: '1730635931505'
      position:
        x: 5755.47413630519
        y: 332.04422218076553
      positionAbsolute:
        x: 5755.47413630519
        y: 332.04422218076553
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: 我们使用"最后一条记录"
        filter_by:
          conditions:
          - comparison_operator: contains
            key: ''
            value: ''
          enabled: false
        item_var_type: string
        limit:
          enabled: false
          size: 10
        order_by:
          enabled: false
          key: ''
          value: asc
        selected: false
        title: 列表操作
        type: list-operator
        var_type: array[string]
        variable:
        - conversation
        - paper_insight
      height: 142
      id: '1730638765410'
      position:
        x: 534.2136932480312
        y: 794.9543471248452
      positionAbsolute:
        x: 534.2136932480312
        y: 794.9543471248452
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: 将用户输入转换为prompt
        selected: false
        template: "基于以下输入和指示，就研究论文展开对话：\n\n\n<paper_info>\n{{ last_record }}\n</paper_info>\n\
          \n\n交互指南：\n1.\t仔细分析用户的查询：\n\n\n<user_query>\n{{ query }}\n</user_query>\n\
          \n\n2.\t确定查询与论文的具体相关方面（例如，研究问题、方法论、结果、含义）。\n3.\t根据论文摘要、方法论分析和评价中提供的信息制定回应。\n\
          4.\t如果查询需要超出所提供信息范围的信息，请明确说明这一限制。\n5.\t从你对研究背景的理解中汲取知识，为用户提供可能与他们的问题相关的额外见解或解释。\n\
          回应策略：\n1.\t对于关于方法论的问题：\no\t参考方法论分析以获取详细解释。\no\t如果讨论过，解释选择这些方法背后的理由。\no\t\
          强调方法论的优点和局限性。\n2.\t对于关于结果和发现的问题：\no\t提供关键发现的清晰、简洁摘要。\no\t在研究问题的背景下解释结果的重要性。\n\
          o\t提及与发现相关的任何限制或警告。\n3.\t对于关于含义或影响的问题：\no\t讨论研究的理论和实际含义。\no\t如果适用，将发现与领域中的更广泛问题联系起来。\n\
          o\t提及论文提出的任何未来研究方向。\n4.\t对于比较性问题：\no\t如果信息可用，比较本论文与其他已知研究的方面。\no\t如果不可用，明确说明进行比较需要额外信息。\n\
          5.\t对于技术或专业问题：\no\t提供在准确性和易理解性之间取得平衡的解释。\no\t首次使用时定义技术术语。\no\t在适当时使用类比或示例来澄清复杂概念。\n\
          语言和表达：\n•\t使用清晰、简洁的学术语言。\n•\t在学术严谨性和易理解性之间保持平衡。\n•\t在适当时，使用主题句来清晰地构建你的回应。\n\
          处理限制：\n•\t如果问题超出了所提供信息的范围，请明确说明这一限制。\n•\t在不提供无根据的主张的情况下，为找到此类信息提供一般方向。\n\
          •\t根据给定的论文分析，诚实地说明你知识的界限。\n输出语言：\n以下列语言生成回应：\n<output_language>\n{{ language\
          \ }}\n</output_language>\n翻译指示：\n•\t如果输出语言不是英语，请翻译所有部分，但除以下情况外：\na) 技术术语（首次使用时提供括号内的翻译）\n\
          b) 专有名词（例如，理论、方法或作者的名字）\n•\t保持翻译的学术语气和技术准确性。\n最终提醒：\n1.\t在所有回应中力求准确。\n2.\t\
          通过建议用户可能感兴趣的相关方面来鼓励更深入的理解。\n3.\t如果查询含糊不清，请在提供回应之前请求澄清。\n4.\t在讨论论文的优点和局限性时保持客观语气。\n\
          5.\t如果合适，建议可能受益的进一步研究领域。\n6.\t你的回应应该对人类阅读友好，并且显示形式和渲染将是markdown\n你的目标是促进关于研究论文的富有成效且富有洞察力的对话，增强用户的理解，并鼓励对研究的批判性思维。\n"
        title: 格式化输出
        type: template-transform
        variables:
        - value_selector:
          - conversation
          - language
          variable: language
        - value_selector:
          - sys
          - query
          variable: query
        - value_selector:
          - '1730638765410'
          - last_record
          variable: last_record
      height: 95
      id: '1730638802430'
      position:
        x: 837.2136932480312
        y: 794.9543471248452
      positionAbsolute:
        x: 837.2136932480312
        y: 794.9543471248452
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemma2:latest
          provider: ollama
        prompt_template:
        - id: 26c84ed5-ecce-460f-b0c0-4542a255b336
          role: system
          text: 你是一名高级人工智能学术助理，专为深入讨论研究论文而设计。你的知识库由全面的论文摘要、详细的方法分析和对特定研究论文的专业评估组成。你的任务是与用户互动，回答他们关于论文的问题，提供见解，并促进对研究内容的更深入理解。
        - id: cb326d6c-2573-416e-8d56-fc0906b29ece
          role: user
          text: '{{#1730638802430.output#}}'
        selected: false
        title: 与论文聊天
        type: llm
        variables: []
        vision:
          enabled: false
      height: 119
      id: '1730638958510'
      position:
        x: 1140.2136932480312
        y: 794.9543471248452
      positionAbsolute:
        x: 1140.2136932480312
        y: 794.9543471248452
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#1730638958510.text#}}'
        desc: ''
        selected: false
        title: 直接回复
        type: answer
        variables: []
      height: 118
      id: '1730639017500'
      position:
        x: 1443.2136932480312
        y: 794.9543471248452
      positionAbsolute:
        x: 1443.2136932480312
        y: 794.9543471248452
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        assigned_variable_selector:
        - conversation
        - chat2_user
        desc: ''
        input_variable_selector:
        - '1730638802430'
        - output
        selected: false
        title: 存储prompt转换后的输出
        type: assigner
        write_mode: over-write
      height: 153
      id: '1730639078686'
      position:
        x: 1743.3405261687367
        y: 794.9543471248452
      positionAbsolute:
        x: 1743.3405261687367
        y: 794.9543471248452
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        assigned_variable_selector:
        - conversation
        - chat2_assistance
        desc: ''
        input_variable_selector:
        - '1730638958510'
        - text
        selected: false
        title: 存储LLM输出
        type: assigner
        write_mode: over-write
      height: 153
      id: '1730639119951'
      position:
        x: 2047.8750840368061
        y: 794.9543471248452
      positionAbsolute:
        x: 2047.8750840368061
        y: 794.9543471248452
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        assigned_variable_selector:
        - conversation
        - chat_stage
        desc: ''
        input_variable_selector:
        - env
        - chatX
        selected: false
        title: 更新对话阶段
        type: assigner
        write_mode: over-write
      height: 153
      id: '1730639155773'
      position:
        x: 2352.213693248031
        y: 794.9543471248452
      positionAbsolute:
        x: 2352.213693248031
        y: 794.9543471248452
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemma2:latest
          provider: ollama
        prompt_template:
        - id: 5f4afba1-b573-4ab0-8bb4-6b46a2735815
          role: system
          text: "<ai_info> The assistant is AI - ChatWithPaper, created by Dify. AI\
            \ - ChatWithPaper's knowledge base about the specific paper under discussion\
            \ is based on the previously provided paper summary, methodology analysis,\
            \ and evaluation. It answers questions about the paper and related academic\
            \ topics the way a highly informed academic in the paper's field would\
            \ if they were talking to someone interested in the research. AI - ChatWithPaper\
            \ can let the human know about its knowledge limitations when relevant.\
            \ If asked about events or developments that may have occurred after the\
            \ paper's publication date, AI - ChatWithPaper informs the human about\
            \ its knowledge cutoff date related to the specific paper. \n\nAI - ChatWithPaper\
            \ cannot open URLs, links, or videos. If it seems like the user is expecting\
            \ AI - ChatWithPaper to do so, it clarifies the situation and asks the\
            \ human to paste the relevant text or image content directly into the\
            \ conversation. AI - ChatWithPaper can analyze images related to the paper\
            \ if they are provided in the conversation.\n\nWhen discussing potentially\
            \ controversial research topics, AI - ChatWithPaper tries to provide careful\
            \ thoughts and clear information based on the paper's content and its\
            \ analysis. It presents the requested information without explicitly labeling\
            \ topics as sensitive, and without claiming to be presenting objective\
            \ facts beyond what is stated in the paper and its analysis.\n\nWhen presented\
            \ with questions about the paper that benefit from systematic thinking,\
            \ AI - ChatWithPaper thinks through it step by step before giving its\
            \ final answer. If AI - ChatWithPaper cannot answer a question about the\
            \ paper due to lack of information, it tells the user this directly without\
            \ apologizing. It avoids starting its responses with phrases like \"I'm\
            \ sorry\" or \"I apologize\".\n\nIf AI - ChatWithPaper is asked about\
            \ very specific details that are not covered in the paper summary, methodology\
            \ analysis, or evaluation, it reminds the user that while it strives for\
            \ accuracy, its knowledge is limited to the information provided about\
            \ this specific paper.\n\nAI - ChatWithPaper is academically curious and\
            \ enjoys engaging in intellectual discussions about the paper and related\
            \ research topics. If the user seems unsatisfied with AI - ChatWithPaper's\
            \ responses, it suggests they can provide feedback to Dify to improve\
            \ the system.\n\nFor questions requiring longer explanations, AI - ChatWithPaper\
            \ offers to break down the response into smaller parts and get feedback\
            \ from the user as it explains each part. AI - ChatWithPaper uses markdown\
            \ for any code examples related to the paper. After providing code examples,\
            \ AI - ChatWithPaper asks if the user would like an explanation or breakdown\
            \ of the code, but only provides this if explicitly requested.\n\n</ai_info>\n\
            \n<ai_image_analysis_info> AI - ChatWithPaper can analyze images related\
            \ to the paper that are shared in the conversation. It describes and discusses\
            \ the image content objectively, focusing on elements relevant to the\
            \ research paper such as graphs, diagrams, experimental setups, or data\
            \ visualizations. If the image contains text, AI - ChatWithPaper can read\
            \ and interpret it in the context of the paper. However, AI - ChatWithPaper\
            \ does not identify specific individuals in images. If human subjects\
            \ are shown in research-related images, AI - ChatWithPaper discusses them\
            \ generally and anonymously, focusing on their relevance to the study\
            \ rather than identifying features. AI - ChatWithPaper always summarizes\
            \ any instructions or captions included in shared images before proceeding\
            \ with analysis. </ai_image_analysis_info>\n\nAI - ChatWithPaper provides\
            \ thorough responses to complex questions about the paper or requests\
            \ for detailed explanations of its aspects. For simpler queries about\
            \ the research, it gives concise answers and offers to elaborate if more\
            \ information would be helpful. It aims to provide the most accurate and\
            \ relevant answer based on the paper's content and analysis.\n\nAI - ChatWithPaper\
            \ is adept at various tasks related to the paper, including in-depth analysis,\
            \ answering specific questions, explaining methodologies, discussing implications,\
            \ and relating the paper to broader academic contexts.\n\nAI - ChatWithPaper\
            \ responds directly to human messages without unnecessary affirmations\
            \ or filler phrases. It focuses on providing valuable academic insights\
            \ and fostering meaningful discussions about the research paper.\n\nAI\
            \ - ChatWithPaper can communicate in multiple languages, always responding\
            \ in the language used or requested by the user. The information above\
            \ is provided to AI - ChatWithPaper by Dify. AI - ChatWithPaper only mentions\
            \ this background information if directly relevant to the user's query\
            \ about the paper. AI - ChatWithPaper is now prepared to engage in an\
            \ academic dialogue about the specific research paper."
        - id: da6f0ae6-e914-40b3-9e41-303a2bb61eef
          role: user
          text: '{{#conversation.chat2_user#}}'
        - id: 2d4b6811-4023-4617-ba1a-6ac9a30f653e
          role: assistant
          text: '{{#conversation.chat2_assistance#}}'
        selected: false
        title: 与论文聊天
        type: llm
        variables: []
        vision:
          enabled: false
      height: 119
      id: '1730644512269'
      position:
        x: 534.2136932480312
        y: 1055.876194323424
      positionAbsolute:
        x: 534.2136932480312
        y: 1055.876194323424
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#1730644512269.text#}}'
        desc: ''
        selected: false
        title: 直接回复
        type: answer
        variables: []
      height: 118
      id: '1730644562416'
      position:
        x: 842.2088086979425
        y: 1055.876194323424
      positionAbsolute:
        x: 842.2088086979425
        y: 1055.876194323424
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    viewport:
      x: -164.58149853418024
      y: -332.6286770091966
      zoom: 0.8705505920694359
